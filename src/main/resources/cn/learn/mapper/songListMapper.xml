<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.learn.dao.SongListMapper">
    <!--通过用户id查询所有歌单信息-->
    <select id="findByUId" parameterType="int" resultType="SongList">
        select * from songlist where u_id = #{id}
    </select>

    <!--通过歌单id查询歌单信息-->
    <select id="findById" parameterType="int" resultType="SongList">
        select * from songlist where sl_id = #{id}
    </select>

    <!--新建歌单-->
    <insert id="saveList" parameterType="SongList">
        insert into songlist values (null,
                                     #{sl_name},
                                     #{u_id},
                                     #{sl_date},
                                     #{sl_introduce},
                                     #{sl_tag},
                                     #{sl_playnum})
    </insert>

    <!--改变歌单的播放次数-->
    <update id="updatePlayNum" parameterType="SongList">
        update songlist set sl_playnum = #{sl_playnum} where sl_id = #{sl_id}
    </update>

    <!--通过除id之外的所有字段查询歌单信息-->
    <select id="findByOthers" parameterType="SongList" resultType="SongList">
        select * from songlist where sl_name = #{sl_name}
                                     and u_id = #{u_id}
                                     and sl_date = #{sl_date}
                                     and sl_playnum = #{sl_playnum}
    </select>

    <!--根据歌单id删除歌单-->
    <delete id="deleteById" parameterType="int">
        delete from songlist where sl_id = #{slId}
    </delete>
</mapper>